{"file":"/mnt/c/Users/ebiarao/repos/claude-recall/src/testing/mock-claude.ts","mappings":"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","names":[],"sources":["/mnt/c/Users/ebiarao/repos/claude-recall/src/testing/mock-claude.ts"],"sourcesContent":["import { MemoryService } from '../services/memory';\nimport { LoggingService } from '../services/logging';\n\nexport interface ToolSelection {\n  name: string;\n  params: any;\n}\n\nexport interface InteractionLog {\n  prompt: string;\n  toolsSelected: ToolSelection[];\n  executionResults: any[];\n  databaseChanges?: any[];\n  searchCallsMade?: number;\n}\n\nexport class MockClaude {\n  private complianceLevel = 0.5; // 50% compliance by default\n  \n  constructor(\n    private memoryService: MemoryService,\n    private logger: LoggingService\n  ) {}\n  \n  setComplianceLevel(level: number): void {\n    this.complianceLevel = Math.max(0, Math.min(1, level));\n    this.logger.info('MockClaude', `Compliance level set to ${this.complianceLevel}`);\n  }\n  \n  async simulateInteraction(prompt: string): Promise<InteractionLog> {\n    this.logger.info('MockClaude', 'Simulating interaction', { prompt });\n    \n    // Select tools based on prompt\n    const tools = await this.selectTools(prompt);\n    \n    // Execute tools\n    const results: any[] = [];\n    for (const tool of tools) {\n      try {\n        const result = await this.executeTool(tool);\n        results.push({\n          tool: tool.name,\n          success: true,\n          result\n        });\n      } catch (error) {\n        results.push({\n          tool: tool.name,\n          success: false,\n          error: (error as Error).message\n        });\n      }\n    }\n    \n    return {\n      prompt,\n      toolsSelected: tools,\n      executionResults: results\n    };\n  }\n  \n  private async selectTools(prompt: string): Promise<ToolSelection[]> {\n    const tools: ToolSelection[] = [];\n    const promptLower = prompt.toLowerCase();\n    \n    // Determine if should search based on compliance level\n    const shouldSearch = Math.random() < this.complianceLevel;\n    \n    // Analyze prompt intent\n    const intents = this.analyzePromptIntent(prompt);\n    \n    // Add search tool if compliant and relevant\n    if (shouldSearch && (intents.createFile || intents.modifyFile || intents.needsContext)) {\n      tools.push({\n        name: 'mcp__claude-recall__search',\n        params: {\n          query: this.extractKeywords(prompt),\n          limit: 10\n        }\n      });\n    }\n    \n    // Add memory storage if mentioned\n    if (intents.storeMemory) {\n      tools.push({\n        name: 'mcp__claude-recall__store_memory',\n        params: {\n          content: this.extractMemoryContent(prompt),\n          metadata: {\n            source: 'mock_claude',\n            prompt: prompt.substring(0, 100)\n          }\n        }\n      });\n    }\n    \n    // Add file operations\n    if (intents.createFile) {\n      tools.push({\n        name: 'create_file',\n        params: {\n          path: this.extractFilePath(prompt) || 'test.js',\n          content: '// Generated by Mock Claude'\n        }\n      });\n    }\n    \n    if (intents.modifyFile) {\n      tools.push({\n        name: 'edit_file',\n        params: {\n          path: this.extractFilePath(prompt) || 'test.js',\n          changes: '// Modified by Mock Claude'\n        }\n      });\n    }\n    \n    // Add retrieval if searching for information\n    if (intents.retrieveInfo && !shouldSearch) {\n      tools.push({\n        name: 'mcp__claude-recall__retrieve_memory',\n        params: {\n          query: this.extractKeywords(prompt),\n          limit: 5\n        }\n      });\n    }\n    \n    return tools;\n  }\n  \n  private analyzePromptIntent(prompt: string): {\n    createFile: boolean;\n    modifyFile: boolean;\n    storeMemory: boolean;\n    retrieveInfo: boolean;\n    needsContext: boolean;\n  } {\n    const promptLower = prompt.toLowerCase();\n    \n    return {\n      createFile: /create|new|add|generate|write/.test(promptLower) && \n                  /file|component|function|class|module/.test(promptLower),\n      modifyFile: /edit|modify|update|change|fix|refactor/.test(promptLower),\n      storeMemory: /save|store|remember|keep|record/.test(promptLower),\n      retrieveInfo: /find|search|get|retrieve|what|where|how/.test(promptLower),\n      needsContext: /based on|according to|following|similar to|like/.test(promptLower)\n    };\n  }\n  \n  private extractKeywords(prompt: string): string {\n    // Extract meaningful keywords from prompt\n    const stopWords = new Set(['the', 'a', 'an', 'and', 'or', 'but', 'in', 'on', 'at', 'to', 'for']);\n    const words = prompt.toLowerCase()\n      .replace(/[^\\w\\s]/g, '')\n      .split(/\\s+/)\n      .filter(word => word.length > 2 && !stopWords.has(word));\n    \n    // Return top 3-5 keywords\n    return words.slice(0, 5).join(' ');\n  }\n  \n  private extractMemoryContent(prompt: string): string {\n    // Try to extract what should be remembered\n    const matches = prompt.match(/remember|save|store\\s+(.+?)(?:\\.|$)/i);\n    if (matches) {\n      return matches[1].trim();\n    }\n    \n    // Default to summarizing the prompt\n    return prompt.substring(0, 200);\n  }\n  \n  private extractFilePath(prompt: string): string | null {\n    // Try to extract file path from prompt\n    const patterns = [\n      /(?:file|create|edit|modify)\\s+['\"`]?([^\\s'\"`]+\\.[\\w]+)/i,\n      /(?:in|to|at)\\s+['\"`]?([^\\s'\"`]+\\.[\\w]+)/i,\n      /([^\\s]+\\.(?:js|ts|jsx|tsx|py|java|cpp|go|rs))/i\n    ];\n    \n    for (const pattern of patterns) {\n      const match = prompt.match(pattern);\n      if (match) {\n        return match[1];\n      }\n    }\n    \n    return null;\n  }\n  \n  private async executeTool(tool: ToolSelection): Promise<any> {\n    this.logger.debug('MockClaude', `Executing tool: ${tool.name}`, tool.params);\n    \n    switch (tool.name) {\n      case 'mcp__claude-recall__search':\n        return await this.memoryService.search(tool.params.query);\n        \n      case 'mcp__claude-recall__store_memory':\n        return await this.memoryService.store({\n          key: `mock_${Date.now()}`,\n          value: tool.params,\n          type: 'mock',\n          context: { sessionId: 'mock_session' }\n        });\n        \n      case 'mcp__claude-recall__retrieve_memory':\n        const results = await this.memoryService.search(tool.params.query);\n        return results.slice(0, tool.params.limit || 5);\n        \n      case 'create_file':\n      case 'edit_file':\n        // Simulate file operation\n        return {\n          success: true,\n          path: tool.params.path,\n          operation: tool.name\n        };\n        \n      default:\n        return {\n          success: true,\n          message: `Tool ${tool.name} executed (simulated)`\n        };\n    }\n  }\n  \n  // Advanced simulation methods\n  async simulateComplexWorkflow(steps: Array<{\n    prompt: string;\n    expectedCompliance?: boolean;\n    delay?: number;\n  }>): Promise<InteractionLog[]> {\n    const logs: InteractionLog[] = [];\n    \n    for (const step of steps) {\n      if (step.delay) {\n        await new Promise(resolve => setTimeout(resolve, step.delay));\n      }\n      \n      // Adjust compliance if specified\n      if (step.expectedCompliance !== undefined) {\n        this.setComplianceLevel(step.expectedCompliance ? 1.0 : 0.0);\n      }\n      \n      const log = await this.simulateInteraction(step.prompt);\n      logs.push(log);\n    }\n    \n    return logs;\n  }\n  \n  generateTestPrompts(category: 'file_creation' | 'memory' | 'search' | 'mixed'): string[] {\n    const prompts: Record<string, string[]> = {\n      file_creation: [\n        'Create a new React component called UserProfile.jsx',\n        'Add a test file for the authentication module',\n        'Generate a new API endpoint for user management',\n        'Write a configuration file for the database connection'\n      ],\n      memory: [\n        'Remember that all tests should be in the test-pasta folder',\n        'Save the API key for the external service',\n        'Store the user preferences for dark mode',\n        'Keep track of the deployment configuration'\n      ],\n      search: [\n        'Find all references to the authentication module',\n        'Search for usage of the deprecated API',\n        'What is the current database configuration?',\n        'Where is the user profile component defined?'\n      ],\n      mixed: [\n        'Based on the existing patterns, create a new service module',\n        'Update the configuration file according to the team standards',\n        'Find and fix all instances of the old API calls',\n        'Create a test file similar to the existing authentication tests'\n      ]\n    };\n    \n    return prompts[category] || prompts.mixed;\n  }\n  \n  // Compliance testing utilities\n  async testComplianceLevels(): Promise<{\n    level: number;\n    searchRate: number;\n    averageTools: number;\n  }[]> {\n    const results = [];\n    const testPrompt = 'Create a new file called test.js with a function that validates user input';\n    \n    for (let level = 0; level <= 1; level += 0.1) {\n      this.setComplianceLevel(level);\n      \n      let searchCount = 0;\n      let totalTools = 0;\n      const iterations = 10;\n      \n      for (let i = 0; i < iterations; i++) {\n        const log = await this.simulateInteraction(testPrompt);\n        \n        if (log.toolsSelected.some(t => t.name.includes('search'))) {\n          searchCount++;\n        }\n        totalTools += log.toolsSelected.length;\n      }\n      \n      results.push({\n        level: Math.round(level * 10) / 10,\n        searchRate: searchCount / iterations,\n        averageTools: totalTools / iterations\n      });\n    }\n    \n    return results;\n  }\n}"],"version":3}