{"file":"/mnt/c/Users/ebiarao/repos/claude-recall/tests/unit/pattern-detector.test.ts","mappings":"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","names":[],"sources":["/mnt/c/Users/ebiarao/repos/claude-recall/tests/unit/pattern-detector.test.ts"],"sourcesContent":["import { PatternDetector, DetectedPattern } from '../../src/core/pattern-detector';\nimport { PatternService } from '../../src/services/pattern-service';\n\ndescribe('PatternDetector', () => {\n  let detector: PatternDetector;\n  \n  beforeEach(() => {\n    detector = new PatternDetector();\n  });\n  \n  describe('Task Type Detection', () => {\n    // Consolidate all task type tests into one parameterized test\n    const taskTypeTestCases = [\n      { prompt: 'create a test for the auth module', expected: 'create_test' },\n      { prompt: 'fix the TypeError in user.service.ts', expected: 'fix_bug' },\n      { prompt: 'refactor the React component to use hooks', expected: 'refactor' },\n      { prompt: 'add user authentication feature', expected: 'add_feature' },\n      { prompt: 'explain how the auth flow works', expected: 'explain' },\n      { prompt: 'review the pull request for security issues', expected: 'review' }\n    ];\n\n    taskTypeTestCases.forEach(({ prompt, expected }) => {\n      it(`should detect ${expected} task type`, () => {\n        const result = detector.detectPatterns(prompt);\n        expect(result.taskType).toBe(expected);\n      });\n    });\n  });\n  \n  describe('Entity Extraction', () => {\n    it('should extract file paths and function names', () => {\n      const prompt = 'fix the error in auth.service.ts in the login() function';\n      const result = detector.detectPatterns(prompt);\n      \n      expect(result.entities).toBeDefined();\n      expect(result.entities).toContain('auth.service.ts');\n      expect(result.entities).toContain('login');\n    });\n  });\n  \n  describe('Language and Framework Detection', () => {\n    it('should detect programming language from file extensions', () => {\n      const cases = [\n        { prompt: 'create tests for user.service.ts', lang: 'typescript' },\n        { prompt: 'fix bug in auth.py', lang: 'python' },\n        { prompt: 'refactor App.js component', lang: 'javascript' }\n      ];\n      \n      cases.forEach(({ prompt, lang }) => {\n        const result = detector.detectPatterns(prompt);\n        expect(result.language).toBe(lang);\n      });\n    });\n    \n    it('should detect frameworks from content', () => {\n      const cases = [\n        { prompt: 'create a React component with hooks', framework: 'react' },\n        { prompt: 'fix the Vue.js computed property', framework: 'vue' },\n        { prompt: 'add Express middleware for auth', framework: 'express' }\n      ];\n      \n      cases.forEach(({ prompt, framework }) => {\n        const result = detector.detectPatterns(prompt);\n        expect(result.framework).toBe(framework);\n      });\n    });\n  });\n  \n});"],"version":3}